<!DOCTYPE html>
<html>
<head>

  <link href="http://fonts.googleapis.com/css?family=Goudy+Bookletter+1911&v1" rel="stylesheet" type="text/css">

  <meta charset="utf-8">

  <title>Judge :: Easy client-side validation for Rails 3 :: joecorcoran</title>

  <link href="styles/sh_darkness.css" rel="stylesheet" type="text/css" />
  <script src="scripts/sh_main.min.js" type="text/javascript"></script>
  <script src="scripts/sh_javascript.js" type="text/javascript"></script>
  <script src="scripts/sh_ruby.js" type="text/javascript"></script>

  <style type="text/css">
    body {
      margin-top: 1.0em;
      background-color: #EAEBD5;
      font-family: Helvetica, Arial, FreeSans, san-serif;
      font-size:92%;
      color: #333;
    }
    #container {
      margin: 0 auto;
      width: 700px;
    }
    h1, h2, h3, h4, h5, .description { font-family:"Goudy Bookletter 1911", Arial, sans-serif; }
    h1 { font-size: 5.5em; color: #222; margin:0 0 10px; }
    h1 small { font-size: 0.3em; }
    h1 a { text-decoration: none; background:transparent; }
    h2 { font-size: 2.5em; color: #222; margin:45px 0 0; letter-spacing:1px; }
    h3, h4, h5 { color: #222; font-size:2em; margin:40px 0 0; }
    h4 { font-size:1.5em; margin:20px 0 0; }
    h5 { font-size:1.3em; margin:20px 0 0; }
    h5 code { color:#666; padding-left:10px; font-weight:normal; font-size:0.9em; }
    p { line-height:1.8em; margin:10px 0 0; }
    a { color: #000; background:#D8D9C7; padding:3px; }
    a:hover { text-decoration:none; }
    .description { font-size: 1.2em; margin: 10px 0 40px; color:#555; }
    .download { float: right; }
    pre {
      background: #C6C7AB; color: #000; line-height:1.5em; margin:10px 0 30px; padding: 15px;
      moz-box-shadow: inset 0 0 2px 2px #adae8f;
      -webkit-box-shadow: inset 0 0 2px 2px #adae8f;
      box-shadow: inset 0 0 2px 2px #adae8f;
    }
    hr { border: 0; width: 80%; border-bottom: 1px solid #aaa}
    .footer { text-align:center; padding:50px 0 20px; font-size:0.8em; }
    code, pre { font-size:1.2em; color:#000; }
    span.prompt { color:#555; }
    span.comment { font-style:italic; color:#777; }
    ul.menu { list-style-type:none; margin:40px 0 0; padding:0; }
    ul.menu li { display:inline; margin:0 0 0 5px; padding:0; }
    ul.menu li a { }
    ul.menu li.first { margin:0; }
    div.indent { padding-left:20px; border-left:2px solid #C6C7AB; }
  </style>
</head>

<body onload="sh_highlightDocument();">
  <a href="http://github.com/joecorcoran/judge"><img style="position: absolute; top: 0; right: 0; border: 0;" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>

  <div id="container">

    <h1><a href="http://github.com/joecorcoran/judge">Judge</a> <small>0.2.0</small></h1>

    <div class="description">
      Easy client-side form validation for Rails 3
    </div>

    <p>Judge allows easy live form validation for Rails 3 apps, by porting many <code>ActiveModel::Validation</code> features to the client side and exposing your model validations as JSON within HTML5 data attributes.</p>

    <ul class="menu">
      <li class="first">Skip to:</li>
      <li><a href="#dependencies">Dependencies</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#quick-start">Quick start</a></li>
      <li><a href="#documentation">Documentation</a></li>
      <li><a href="#tests">Tests</a></li>
      <li><a href="#development">Development</a></li>
    </ul>
    
    <h2 id="dependencies">Dependencies</h2>

    <p>Judge is now free from jQuery dependency and can be used easily with your preferred JavaScript library or framework!  Judge relies on the awesome <a href="http://documentcloud.github.com/underscore/">Underscore.js</a>, along with <a href="https://github.com/douglascrockford/JSON-js">JSON2.js</a>, which defers to the native JSON global object in modern browsers.  These two dependencies won't be installed for you &#8212; it's up to you to load them however you wish.</p>

    <h2 id="installation">Installation</h2>
    <pre><span class="comment"># Gemfile</span>
gem "judge", "~> 0.2.0"</pre>
    <pre><span class="prompt">$</span> cd path/to/your/app
<span class="prompt">$</span> bundle install</pre>
    <p>To copy judge.js to your public/javascripts directory, do:</p>
    <pre><span class="prompt">$</span> cd path/to/your/app
<span class="prompt">$</span> rails generate judge</pre>
    <p>To copy judge.js to a different directory, do:<p>
    <pre><span class="prompt">$</span> rails generate judge path/to/my/js/directory</pre>
    
    <h2 id="quick-start">Quick start</h2>
    <p>Replace <code>form_for</code> with <code><strong>validated_form_for</strong></code>. All arguments are the same. Replace your <code>f.text_field</code> or <code>f.text_area</code> with <code><strong>f.validated_text_field</strong></code> and <code><strong>f.validated_text_area</strong></code> respectively.</p>

    <pre class="sh_ruby"><%= validated_form_for(@post) do |f|%>
  <%= f.validated_text_field :title %>
  <%= f.validated_text_area :body %>
<% end %></pre>

    <p>Simple validation is performed by using watchers.  Create a watcher for your input:</p>
    <pre class="sh_javascript">var watcher = new judge.Watcher(document.getElementById('foo'));</pre>

    <p>Check whether the current value of the watched element is valid at any point afterwards:</p>
    <pre class="sh_javascript">watcher.validate().valid; // => true </pre>

    <h2 id="documentation">Documentation</h2>
    <h3>judge</h3>
    <p>The global namespace.</p>
    <div class="indent">
      <h4>Static methods</h4>
      <h5>validate <code>judge.validate(elements)</code></h5>
      <p>Perform quick and easy validation on an element, or a <a href="#isCollection">collection</a> of elements, without creating or storing watchers.</p>
      <pre class="sh_javascript">judge.validate(document.getElementsByTagName('input'));
// => [ { valid:true, messages:[] }, { valid:false, messages:['must be even'] } ]</pre>
    </div>
    <h3>judge.Watcher</h3>
    <p>Constructor for watchers.  Watchers are wrapper objects that contain a DOM element and various validation methods. For example:</p>
    <pre class="sh_javascript">var watcher = new judge.Watcher(document.getElementById('foo'));</pre>
    <div class="indent">
      <h4>Instance methods</h4>
      <h5>validate <code>watcher.validate()</code></h5>
      <p>Validate the current value of the wrapped DOM element.</p>
      <pre class="sh_javascript">watcher.validate();
  // => { valid:false, messages:['must be an integer'] }</pre>
      <h4>Instance properties</h4>
      <h5>validators <code>watcher.validators</code></h5>
      <p>Returns array of validators for the wrapped element.</p>
      <pre class="sh_javascript">watcher.validators;
  // => [ { kind:'presence', options:{ &hellip; } } ]</pre>
    </div>
    <h3>judge.store</h3>
    <p>Contains some methods for storing and retrieving watchers in groups, for more customised validation scenarios.</p>
    <div class="indent">
      <h4>Static methods</h4>
      <h5>save <code>judge.store.save(key, element)</code></h5>
      <p>Store a watcher for an element against a key, for later use. If the key doesn't already exist, it will be created. Returns the store object.</p>
      <pre class="sh_javascript">judge.store.save('mykey', document.getElementById('foo'));
  // => [ { element:HTMLInputElement, &hellip; } ]</pre>
      <h5>get <code>judge.store.get(key)</code></h5>
      <p>Return an array of watchers saved against the key. If no key is given, the store object is returned.</p>
      <pre class="sh_javascript">judge.store.get('mykey'); 
  // => [ { element:HTMLInputElement, &hellip; } ]

judge.store.get();
  // => { mykey:[ { element:HTMLInputElement, &hellip; } ], &hellip; }</pre>
      <h5>getDOM <code>judge.store.getDOM(key)</code></h5>
      <h5>remove <code>judge.store.remove(key, element)</code></h5>
      <h5>clear <code>judge.store.clear(key)</code></h5>
    </div>
    <h3>judge.utils</h3>
    <p>Most of judge.utils comprises of internal helpers that are probably of no use to anyone, but the following functions might be of interest.</p>
    <div class="indent">
      <h4>Static methods</h4>
      <h5 id="isCollection">isCollection <code>judge.utils.isCollection(object)</code></h5>
      <p>Returns true if object is an Array or a NodeList.  NodeList is the type of Array-like object returned by queries like <code>document.getElementsByTagName('input')</code>.</p>
      <pre class="sh_javascript">judge.utils.isCollection(document.querySelectorAll('body .foo')); // => true
      
judge.utils.isCollection([1, 2, 3]); // => true
  
judge.utils.isCollection({ foo:1, bar:2 }); // => false</pre>
      
      <h5>isValidatable <code>judge.utils.isValidatable(object)</code></h5>
      <p>Returns true if object is an <code>HTMLInputElement</code>, an <code>HTMLTextAreaElement</code> or an <code>HTMLSelectElement</code>. Used internally to ensure that watchers are not created for just any old kind of object.</p>
      <pre class="sh_javascript">judge.utils.isValidatable(document.getElementsByTagName('input')[0]); // => true
      
judge.utils.isValidatable(document.getElementsByTagName('label')[0]); // => false</pre>
    </div>

    <h2 id="tests">Tests</h2>
    <p>There are integration tests for the Judge form helpers and the JavaScript is unit tested with Jasmine.</p>
    <pre><span class="prompt">$</span> cd path/to/judge

<span class="comment"># all tests, headless (requires phantom.js)</span>
<span class="prompt">$</span> bundle exec rake test:all

<span class="comment"># only helper tests</span>
<span class="prompt">$</span> bundle exec rake test:helpers

<span class="comment"># only javascript tests, headless (requires phantom.js)</span>
<span class="prompt">$</span> bundle exec rake test:js

<span class="comment"># only javascript tests, with selenium</span>
<span class="prompt">$</span> bundle exec rake jasmine:ci</pre>

    <h2 id="development">Development</h2>
    <p>Judge was written by Joe Corcoran (<a href="mailto:joe@tribesports.com">joe@tribesports.com</a>) for use at <a href="http://tribesports.com">Tribesports</a>. It has been made available for use under the <a href="https://github.com/joecorcoran/judge/raw/master/LICENSE.txt">MIT license</a>.</p>

    <div class="footer">
      Get the source code on GitHub: <a href="http://github.com/joecorcoran/judge">joecorcoran/judge</a>
    </div>

  </div>

  <script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
try {
var pageTracker = _gat._getTracker("UA-3245696-3");
pageTracker._trackPageview();
} catch(err) {}</script>
</body>
</html>


